<app-modalloading *ngIf="loadingshow"></app-modalloading>
<app-modalpopup *ngIf="showmodalcreate">
    <div class="modal-content" style="margin-top: 10%;">
        <div class="modal-header" style="border: none;">
            <h3 class="modal-title" style="border: none;">Create Account AO</h3>
            <button type="button" class="close" (click)="closemodaldialog('ao')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body" style="border:none">
            <div class="row justify-content-center">
                <div class="col-10">
                    <app-alerts *ngIf="trigeralerts"></app-alerts>
                </div>
                <div class="col-10">
                    <div class="form-group has-icon"><i class="icon-envelope-o"></i>
                        <input type="text" class="form-control form-control-md" placeholder="Fullname" #fullname>
                    </div>
                    <div class="form-group has-icon"><i class="icon-phone2"></i>
                        <input type="number" class="form-control form-control-md f-12" placeholder="HP" #hp>
                    </div>
                    <div class="form-group has-icon"><i class="icon-message"></i>
                        <input type="email" class="form-control form-control-md f-12" placeholder="Email" #email>
                    </div>
                    <div class="form-group has-icon"><i class="icon-calendar"></i>
                        <input type="date" class="form-control form-control-md f-12" placeholder="Birthday" #birthday>
                    </div>
                </div>
            </div>
        </div>
        <div style="border:none;" class="col-12" style="background-color: grey; padding: 10px;">
            <div class="row justify-content-center">
                <div class="col-3">
                    <button type="button" class="btn btn-block w-100" style="background-color: darkcyan; color: white;"
                        (click)="submitmodal(fullname.value,hp.value,email.value,birthday.value)">Submit</button>
                </div>
            </div>
        </div>
    </div>
</app-modalpopup>
<app-modalpopup *ngIf="showmodalview">
    <div class="modal-content" style="margin-top: 10%;">
        <div class="modal-header" style="border: none;">
            <button class="btn" type="button" (click)="editmodal()" style="background: darkcyan;color: white;">Edit</button>
            <button type="button" class="close" (click)="closemodaldialog('view')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body" style="border:none">
            <div class="row justify-content-center">
                <div class="col-10">
                    <app-alerts *ngIf="trigeralerts"></app-alerts>
                </div>
                <div class="col-10">
                    <div class="form-group has-icon"><i class=" icon-people"></i>
                        <input type="text" class="form-control form-control-md" #id disabled id="inputid"
                            placeholder="id">
                    </div>
                    <div class="form-group has-icon"><i class="icon-book"></i>
                        <input type="text" class="form-control form-control-md f-12" #fullname disabled
                            id="inputfullname" placeholder="fullname">
                    </div>
                    <div class="form-group has-icon"><i class="icon-phone2"></i>
                        <input type="number" class="form-control form-control-md f-12" #hp disabled id="inputhp"
                            placeholder="hp">
                    </div>
                    <div class="form-group has-icon"><i class="icon-message "></i>
                        <input type="email" class="form-control form-control-md f-12" #email disabled id="inputemail"
                            placeholder="email">
                    </div>
                    <div class="form-group has-icon"><i class="icon-calendar"></i>
                        <input type="date" class="form-control form-control-md f-12" #birthday disabled
                            id="inputbirthday" name="Date">
                    </div>
                </div>
            </div>
        </div>
        <div style="border:none;" class="col-12" style="background-color: grey; padding: 10px;" *ngIf="showbuttonsava">
            <div class="row justify-content-center">
                <div class="col-3">
                    <button type="button" class="btn btn-block w-100" style="background-color: darkcyan;color: white;"
                        (click)="savemodalview(fullname.value , hp.value , email.value,birthday.value)">Save</button>
                </div>
            </div>
        </div>
    </div>
</app-modalpopup>
<app-modalpopup *ngIf="showmodalreactive">
    <div class="modal-content" style="margin-top: 10%;">
        <div class="modal-header" style="border: none;">
            <button type="button" class="close" (click)="closemodaldialog('reactive')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body" style="border:none">
            <div class="row justify-content-center">
                <h3>Apakah anda yakin reactive account ini</h3>
            </div>
        </div>
        <div style="border:none;" class="col-12" style="background-color: grey; padding: 10px;">
            <div class="row justify-content-center">
                <div class="col-3">
                    <button type="button" class="btn btn-block w-100" style="background:darkcyan;color: white;"
                        (click)="savemodalreactive()">Save</button>
                </div>
            </div>
        </div>
    </div>
</app-modalpopup>
<app-modalpopup *ngIf="showmodaldeactive">
    <div class="modal-content" style="margin-top: 10%;">
        <div class="modal-header" style="border: none;">
            <button type="button" class="close" (click)="closemodaldialog('deactive')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body" style="border:none">
            <div class="row justify-content-center">
                <h3>Apakah anda yakin deactive account ini</h3>
            </div>
        </div>
        <div style="border:none;" class="col-12" style="background-color: grey; padding: 10px;">
            <div class="row justify-content-center">
                <div class="col-3">
                    <button type="button" class="btn btn-block w-100" style="background: darkcyan; color: white;"
                        (click)="savemodaldeactive()">Save</button>
                </div>
            </div>
        </div>
    </div>
</app-modalpopup>
<app-modalsuccess *ngIf="showmodalsuccess"></app-modalsuccess>
<app-modalerror *ngIf="showmodalerror"></app-modalerror>
<div class="col-md-12">
    <div class="card r-0 b-0">
        <div class="card-body">
            <h2><strong>Account Management</strong></h2>
        </div>
    </div>
</div>
<div class="col-md-12 mt-2">
    <div class="card r-0 b-0">
        <div class="card-body" style="min-height: 59vh;">
            <div class="col-12">
                <div class="row justify-content-between">
                    <div class="col-md-3">
                        <button type="button" class="btn" (click)="createaccountmodal()"
                            style="font-size: 10pt;background-color: darkcyan;color: white;">Create new
                            account</button>
                    </div>
                    <div class="col-3">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="search..."
                                (keyup)="searchnavbar($event,'default' , searchdefault.value)" #searchdefault />
                            <span class="input-group-append" (click)="searchclickdefault(searchdefault.value)">
                                <span class="input-group-text add-on white">
                                    <i class="icon-search"></i>
                                </span>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12">
                <div class="row justify-content-center">
                    <div class="col-10 mt-4">
                        <table id="t01">
                            <tr>
                                <th style="font-size: 11pt;">No</th>
                                <th style="font-size: 11pt;">Name <span class="icon-sort pl-2"
                                        (click)="sortinghandle('name')"></span></th>
                                <th style="font-size: 11pt;">
                                    <div class="col-10">
                                        <div class="row justify-content-center">
                                            Action <span class="icon-sort pl-2"
                                        (click)="sortinghandle('action')"></span>
                                        </div>
                                    </div>
                                </th>
                            </tr>
                            <tr *ngFor="let data of dataloopdummy | paginate: {itemsPerPage: 10, currentPage: p,totalItems: totalpage}; let index = index"
                                style="border-bottom: 2px solid darkcyan;">
                                <td style="font-size: 10pt;">{{data.number}}.</td>
                                <td style="font-size: 10pt;max-width: 200px;">{{data.fullname}}</td>
                                <td style="font-size: 10pt;max-width: 350px;">
                                    <div class="col-10">
                                        <div class="row justify-content-center">
                                            <div class="col-8">
                                                <div class="row justify-content-between">
                                                    <button id="id{{index}}" (click)="viewclick(data['id'])" class="btn" style="background-color: darkcyan; color: white;font-size: 10pt;">View Detail</button>
                                            <button  *ngIf="data.status === 'inactive'" id="id{{index}}" (click)="reactiveclick(data['id'])"  class="btn" style="background-color: darkcyan; color: white;font-size: 10pt;">Reactive</button>
                                            <button  *ngIf="data.status === 'active'" id="id{{index}}" (click)="deactiveclick(data['id'])"  class="btn" style="background-color: darkcyan; color: white;font-size: 10pt;">Deactive</button>
                                                </div>
                                            </div> 
                                        </div>
                                    </div>                                   
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-3 text-center mt-5" *ngIf="dataloopdummy.length === 0">
                        <h3>No data...</h3>
                    </div>
                    <div class="col-10 mt-2">
                        <pagination-controls (pageChange)="p = $event ; pageclick($event)">
                        </pagination-controls>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>